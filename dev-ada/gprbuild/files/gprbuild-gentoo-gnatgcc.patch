diff -Naur gprbuild-2010-src/src/gprlib.adb gprbuild-2010-src_/src/gprlib.adb
--- gprbuild-2010-src/src/gprlib.adb	2010-06-08 18:33:46.000000000 +0300
+++ gprbuild-2010-src_/src/gprlib.adb	2011-06-01 17:00:21.000000000 +0300
@@ -1055,7 +1055,13 @@
                      else
                         Compiler_Name := new String'(Line (1 .. Last));
 
-                        if Last > 3
+                        if Last > 7
+                          and then Line (Last - 6 .. Last) = "gnatgcc"
+                        then
+                           Gnatbind_Name :=
+                             new String'(Line (1 .. Last - 7) & "gnatbind");
+
+                        elsif Last > 3
                           and then Line (Last - 2 .. Last) = "gcc"
                         then
                            Gnatbind_Name :=
diff -Naur gprbuild-2010-src/share/gprconfig/compilers.xml gprbuild-2010-src_/share/gprconfig/compilers.xml
--- gprbuild-2010-src/share/gprconfig/compilers.xml	2010-06-03 19:12:48.000000000 +0300
+++ gprbuild-2010-src_/share/gprconfig/compilers.xml	2011-06-08 17:40:34.000000000 +0300
@@ -12,7 +12,7 @@
     <executable prefix="1">(.*(-wrs-|-elf-|-eabispe-|avr-|-elinos-linux).*)?gcc</executable>
     <version>
       <external>${PREFIX}gcc -v</external>
-      <grep regexp="^gcc version (\S+)" group="1"></grep>
+      <grep regexp="^gcc [^0-9]+ ([0-9.]+)" group="1"></grep>
     </version>
     <languages>C</languages>
     <target>
@@ -151,7 +151,7 @@
     <executable>g++</executable>
     <version>
       <external>g++ -v</external>
-      <grep regexp="^gcc version (\S+)" group="1"></grep>
+      <grep regexp="^gcc [^0-9]+ ([0-9.]+)" group="1"></grep>
     </version>
     <languages>C++</languages>
     <target>
@@ -256,7 +256,7 @@
     <executable prefix="1">(.*(-wrs-|-elf-|-eabispe-|avr-|elinos-linux).*)?gcc</executable>
     <version>
       <external>${PREFIX}gcc -v</external>
-      <grep regexp="^gcc version (\S+)" group="1"></grep>
+      <grep regexp="^gcc [^0-9]+ ([0-9.]+)" group="1"></grep>
     </version>
     <languages>Asm,Asm_Cpp,Asm2</languages>
     <target>
@@ -318,7 +318,7 @@
     <executable>gfortran</executable>
     <version>
       <external>gfortran -v</external>
-      <grep regexp="^gcc version (\S+)" group="1"></grep>
+      <grep regexp="^gcc [^0-9]+ ([0-9.]+)" group="1"></grep>
     </version>
     <languages>Fortran</languages>
     <target>
